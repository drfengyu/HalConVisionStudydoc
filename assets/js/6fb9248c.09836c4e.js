"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4381],{74264:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>m,frontMatter:()=>i,metadata:()=>d,toc:()=>a});var o=r(74848),s=r(28453),t=r(49677);const i={sidebar_position:3},c="\u4ece\u56de\u8c03\u51fd\u6570\u83b7\u53d6\u7ed3\u679c",d={id:"secondary-development/process-introduction/get-result-from-callback-function/index",title:"\u4ece\u56de\u8c03\u51fd\u6570\u83b7\u53d6\u7ed3\u679c",description:"\u56de\u8c03\u51fd\u6570\u4f7f\u7528\u65b9\u6cd5",source:"@site/docs/secondary-development/process-introduction/get-result-from-callback-function/index.md",sourceDirName:"secondary-development/process-introduction/get-result-from-callback-function",slug:"/secondary-development/process-introduction/get-result-from-callback-function/",permalink:"/HalConVisionStudydoc/docs/secondary-development/process-introduction/get-result-from-callback-function/",draft:!1,unlisted:!1,editUrl:"https://github.com/drfengyu/HalConVisionStudydoc/docs/secondary-development/process-introduction/get-result-from-callback-function/index.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"\u6d41\u7a0b\u76f8\u5173\u64cd\u4f5c",permalink:"/HalConVisionStudydoc/docs/secondary-development/process-introduction/process-related-operations/"},next:{title:"\u901a\u8baf\u89e6\u53d1\u53ca\u6a21\u5757\u5217\u8868\u83b7\u53d6",permalink:"/HalConVisionStudydoc/docs/secondary-development/process-introduction/communication-trigger-and-module-list-retrieval/"}},l={},a=[{value:"\u56de\u8c03\u51fd\u6570\u4f7f\u7528\u65b9\u6cd5",id:"\u56de\u8c03\u51fd\u6570\u4f7f\u7528\u65b9\u6cd5",level:2},{value:"1. \u6ce8\u91ca\u539f\u83b7\u53d6\u7ed3\u679c\u4ee3\u7801",id:"1-\u6ce8\u91ca\u539f\u83b7\u53d6\u7ed3\u679c\u4ee3\u7801",level:3},{value:"2. \u6ce8\u518c\u56de\u8c03\u51fd\u6570",id:"2-\u6ce8\u518c\u56de\u8c03\u51fd\u6570",level:3},{value:"3. \u56de\u8c03\u51fd\u6570\u83b7\u53d6\u7ed3\u679c",id:"3-\u56de\u8c03\u51fd\u6570\u83b7\u53d6\u7ed3\u679c",level:3},{value:"4. \u8fd0\u884c\u7a0b\u5e8f",id:"4-\u8fd0\u884c\u7a0b\u5e8f",level:3}];function u(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"\u4ece\u56de\u8c03\u51fd\u6570\u83b7\u53d6\u7ed3\u679c",children:"\u4ece\u56de\u8c03\u51fd\u6570\u83b7\u53d6\u7ed3\u679c"})}),"\n","\n",(0,o.jsx)(t.A,{src:"https://xian-vforum.oss-cn-hangzhou.aliyuncs.com/2022-07-04_TI4RhLXGRQ_2.3%E4%BB%8E%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0%E8%8E%B7%E5%8F%96%E7%BB%93%E6%9E%9C_x264.mp4"}),"\n",(0,o.jsx)(n.h2,{id:"\u56de\u8c03\u51fd\u6570\u4f7f\u7528\u65b9\u6cd5",children:"\u56de\u8c03\u51fd\u6570\u4f7f\u7528\u65b9\u6cd5"}),"\n",(0,o.jsx)(n.p,{children:"\u901a\u5e38\u5728\u65b9\u6848\u6216\u6d41\u7a0b\u6267\u884c\u5b8c\u6210\u540e,\u5c31\u53ef\u4ee5\u83b7\u53d6\u5230\u6d41\u7a0b\u8fd0\u884c\u7684\u7ed3\u679c.\u8fd0\u884c\u4e00\u6b21\u6d41\u7a0b\u540e,\u6211\u4eec\u5c31\u53ef\u4ee5\u83b7\u53d6\u5230\u6d41\u7a0b\u7684\u6e32\u67d3\u7ed3\u679c\u4ee5\u53ca\u6d41\u7a0b\u7684\u6570\u636e\u7ed3\u679c.\u90a3\u4e48\u4f7f\u7528\u901a\u8baf\u6216\u786c\u4ef6\u8fdb\u884c\u5916\u90e8\u89e6\u53d1\u65f6,\u5982\u4f55\u83b7\u53d6\u7ed3\u679c\u5462?"}),"\n",(0,o.jsx)(n.p,{children:"\u8fd9\u79cd\u65f6\u5019\u5c31\u8981\u7528\u5230\u56de\u8c03\u51fd\u6570."}),"\n",(0,o.jsx)(n.h3,{id:"1-\u6ce8\u91ca\u539f\u83b7\u53d6\u7ed3\u679c\u4ee3\u7801",children:"1. \u6ce8\u91ca\u539f\u83b7\u53d6\u7ed3\u679c\u4ee3\u7801"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:r(58335).A+"",width:"1920",height:"1048"})}),"\n",(0,o.jsx)(n.h3,{id:"2-\u6ce8\u518c\u56de\u8c03\u51fd\u6570",children:"2. \u6ce8\u518c\u56de\u8c03\u51fd\u6570"}),"\n",(0,o.jsx)(n.p,{children:"\u5728\u6784\u9020\u51fd\u6570\u4e2d\u6ce8\u518c\u56de\u8c03\u51fd\u6570,\u6240\u6709\u6d41\u7a0b\u5728\u8fd0\u884c\u5b8c\u6210\u540e,\u90fd\u4f1a\u8fdb\u5165\u8fd9\u4e2a\u56de\u8c03\u51fd\u6570."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-Csharp",children:'public Form1()\r\n{\r\n    KillProcess("VisionMasterServerApp");\r\n    KillProcess("VisionMaster");\r\n    KillProcess("VmModuleProxy.exe");\r\n    InitializeComponent();\r\n     //\u6ce8\u518c\u56de\u8c03\u51fd\u6570,\u63a8\u8350\u56de\u8c03\u51fd\u6570\u83b7\u53d6\u7ed3\u679c.\r\n    VmSolution.OnWorkStatusEvent += VmSolution_OnWorkStatusEvent;\r\n}\n'})}),"\n",(0,o.jsx)(n.h3,{id:"3-\u56de\u8c03\u51fd\u6570\u83b7\u53d6\u7ed3\u679c",children:"3. \u56de\u8c03\u51fd\u6570\u83b7\u53d6\u7ed3\u679c"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-Csharp",children:'        private void VmSolution_OnWorkStatusEvent(ImvsSdkDefine.IMVS_MODULE_WORK_STAUS workStatusInfo)\r\n        {\r\n            try\r\n            {\r\n                if (workStatusInfo.nWorkStatus==0 && workStatusInfo.nProcessID==10000)//\u4e3a0\u8868\u793a\u6267\u884c\u5b8c\u6bd5,\u4e3a1\u8868\u793a\u6b63\u5728\u6267\u884c,10000\u8868\u793a\u6d41\u7a0b1\r\n                {\r\n                    //\u901a\u8fc7\u6d41\u7a0b\u83b7\u53d6\u7ed3\u679c,\u5206\u4e3a\u6e32\u67d3\u7ed3\u679c\u548c\u6570\u636e\u7ed3\u679c\r\n\r\n                    VmProcedure vmProcedure = (VmProcedure)VmSolution.Instance["\u6d41\u7a0b1"];\r\n                    string ocrResult = vmProcedure.ModuResult.GetOutputString("out").astStringVal[0].strValue;\r\n                    string ocrNum = vmProcedure.ModuResult.GetOutputInt("out0").pIntVal[0].ToString();\r\n                    this.BeginInvoke(new Action(() => {//\u56de\u8c03\u91cc\u5bf9\u63a7\u4ef6\u64cd\u4f5c\u9700\u8981\u4f7f\u7528\u59d4\u6258\r\n                        vmRenderControl1.ModuleSource = vmProcedure;//\u6e32\u67d3\u7ed3\u679c\r\n                        listBox1.Items.Add("\u5b57\u7b26\u8bc6\u522b\u7ed3\u679c:" + ocrResult);\r\n                        listBox1.TopIndex = listBox1.Items.Count - 1;\r\n                        listBox1.Items.Add("\u4e2a\u6570:" + ocrNum);\r\n                        listBox1.TopIndex = listBox1.Items.Count - 1;\r\n                    }));\r\n\r\n                    //\u4e5f\u53ef\u4ee5\u901a\u8fc7\u6a21\u5757\u83b7\u53d6\u7ed3\u679c\r\n                    IMVSOcrModuCs.IMVSOcrModuTool ocrModuTool = (IMVSOcrModuCs.IMVSOcrModuTool)VmSolution.Instance["\u6d41\u7a0b1.\u5b57\u7b26\u8bc6\u522b1"];\r\n                    string ocrScore1 = ocrModuTool.ModuResult.CharNum.ToString();\r\n\r\n                }\r\n            }\r\n            catch (VmException ex)\r\n            {\r\n\r\n                MessageBox.Show(ex.Message);\r\n            }\r\n        }\n'})}),"\n",(0,o.jsx)(n.h3,{id:"4-\u8fd0\u884c\u7a0b\u5e8f",children:"4. \u8fd0\u884c\u7a0b\u5e8f"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"\u8fd0\u884c\u7a0b\u5e8f,\u52a0\u8f7d\u65b9\u6848"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:r(4489).A+"",width:"1522",height:"559"})}),"\n",(0,o.jsxs)(n.ol,{start:"2",children:["\n",(0,o.jsx)(n.li,{children:"\u65b9\u6848\u52a0\u8f7d"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:r(39346).A+"",width:"1522",height:"559"})}),"\n",(0,o.jsxs)(n.ol,{start:"3",children:["\n",(0,o.jsx)(n.li,{children:"\u65b9\u6848\u6267\u884c"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:r(88347).A+"",width:"1522",height:"559"})}),"\n",(0,o.jsx)(n.p,{children:"\u53ef\u4ee5\u770b\u5230,\u5bf9\u5e94\u7684\u6d41\u7a0b\u6267\u884c\u5b8c\u6210\u540e,\u4f1a\u8fdb\u5165\u56de\u8c03\u51fd\u6570,\u83b7\u53d6\u7ed3\u679c.\u56fe\u50cf\u6e32\u67d3\u533a\u548c\u6d88\u606f\u533a\u4e5f\u90fd\u663e\u793a\u4e86\u7ed3\u679c."})]})}function m(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},4489:(e,n,r)=>{r.d(n,{A:()=>o});const o=r.p+"assets/images/image-1-b94b9417fc28f69653cfa8a0abe526f2.png"},39346:(e,n,r)=>{r.d(n,{A:()=>o});const o=r.p+"assets/images/image-2-8c9f9093101806f10690f68c187ccd59.png"},88347:(e,n,r)=>{r.d(n,{A:()=>o});const o=r.p+"assets/images/image-3-ca958e2f3278f76d5725e54f8bef650a.png"},58335:(e,n,r)=>{r.d(n,{A:()=>o});const o=r.p+"assets/images/image-e957633541be29e82d645a77f033cd00.png"}}]);